<div id="contet_area">
    <h3 class="hide">컨텐츠 내용</h3>
    <div class="path">
        <ol class="path_list">
            <li>마이페이지</li>
            <li>개인정보수정</li>
        </ol>
    </div>
    <h4 class="content_title">개인정보수정</h4>
    <div class="content_body">
        <style type="text/css">
            .tab_title {width:calc( 50% - 2px ) !important;}
            .tab_tt li.on a {width:100% !important;}
        </style>
        <div class="tab_wrap2">
            <ul class="tab_tt">
                <li class="tab_title on" id="modify_info"><a href="../mypage/modify.jsp">개인정보수정</a></li>
                <li class="tab_title" id="modify_passwd"><a href="../mypage/modify_passwd.jsp">비밀번호변경</a></li>
            </ul>
        </div>
        <div class="tb_top">
        </div>
        <form name="form1" method="post" target="sysfrm" onsubmit="return goSubmit(this);">
            <input type="hidden" name="login_id" value="{{login_id}}">
            <input type="hidden" name="verify_email_yn" value="Y">
            <div class="tb_box type_write">
                <table summary="회원정보수정에 필요한 내용을 입력해주세요" class="join nobg">
                    <caption>회원정보수정 양식</caption>
                    <colgroup>
                        <col style="width: 14%" />
                        <col />
                    </colgroup>
                    <tbody>
                    <tr>
                        <th class="tb_th"><label>아이디</label></th>
                        <td>
                            {{login_id}}
                        </td>
                    </tr>

                    <tr>
                        <th class="tb_th"><label for="user_nm">이름</label></th>
                        <td>
                            <input type="text" name="user_nm" id="user_nm"  maxlength="20" class="w200" value="{{user_nm}}"  pattern="[가-힣]+" onblur="checkedNm('{{user_nm}}')" />
                            <span id="checkedNmArea">이름을 입력해 주세요</span>
                            <script>
                                function checkedNm(userNm) {
                                    var f = document.forms['form1'];
                                    var area = document.getElementById("checkedNmArea");
                                    var value = f["user_nm"].value;
                                    if(value == "") { //공백이면
                                        area.innerHTML = "이름을 입력해 주세요";
                                        return;
                                    }
                                    var pattern = /^[ㄱ-ㅎ가-힣ㅏ-ㅣ]*$/;
                                    if(userNm == value) {
                                        area.innerHTML = "한글 이름을 입력해 주세요.";
                                        return;
                                    }
                                    if(!pattern.test(value)) {
                                        area.innerHTML = "<span class=\"bad\">한글 이름을 입력해 주세요.</span>";
                                    } else {
                                        area.innerHTML = "";
                                    }
                                }
                            </script>
                        </td>
                    </tr>
                    <tr>
                        <th class="tb_th"><label for="email">이메일</label></th>
                        <td>
                            <div style="float:left;">
                                <input type="text" name="email1" id="email1" class="w100"  onblur="checkedEmail2('{{email1}}')"/> @
                                <input type="text" name="email2" id="email2" class="w100"  onblur="checkedEmail2('{{email2}}')"/>
                                <select id="email3" onchange="document.forms['form1']['email2'].value = this.value;if(!this.value) document.forms['form1']['email2'].focus();">
                                    <option value=""> - 직접입력 - </option>
                                    <option value="naver.com">naver.com</option>
                                    <option value="nate.com">nate.com</option>
                                    <option value="dreamwiz.com">dreamwiz.com</option>
                                    <option value="yahoo.co.kr">yahoo.co.kr</option>
                                    <option value="empal.com">empal.com</option>
                                    <option value="unitel.co.kr">unitel.co.kr</option>
                                    <option value="gmail.com">gmail.com</option>
                                    <option value="korea.com">korea.com</option>
                                    <option value="chol.com">chol.com</option>
                                    <option value="paran.com">paran.com</option>
                                    <option value="freechal.com">freechal.com</option>
                                    <option value="hanmail.net">hanmail.net</option>
                                    <option value="hotmail.com">hotmail.com</option>
                                </select>
                                <span id="checkedEmailArea">이메일을 입력해 주세요</span>
                                <script>
                                    function checkedEmail2(email) {
                                        var f = document.forms['form1'];
                                        var area = document.getElementById("checkedEmailArea");
                                        var value = f["email1"].value +"@"+ f["email2"].value;
                                        var email1 = f["email1"].value;
                                        var email2 = f["email2"].value;

                                        // var value2 = f["email2"].value;
                                        if(value == "") { //공백이면
                                            area.innerHTML = "이메일을 입력해주세요";
                                            return;
                                        }
                                        var pattern = /^[a-z0-9A-Z\_\.\-]+@([a-z0-9A-Z\.\-]+)\.([a-zA-Z]+)$/;
                                        var pattern2 = /^[a-zA-Z0-9]+$/; //숫자, 알파벳만 가능
                                        var pattern3 = /[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;
                                        // if(email1 == value) {
                                        //     area.innerHTML = "이메일 형식이 맞지 않습니다.";
                                        //     return;
                                        // }
                                        if(!pattern2.test(email1)) {
                                            area.innerHTML = "<span class=\"bad\">이메일 형식이 맞지 않습니다.</span>"
                                        } else {
                                            area.innerHTML = "";
                                        }

                                        if(!pattern3.test(email2)) {
                                            area.innerHTML = "<span class=\"bad\">이메일 형식이 맞지 않습니다.</span>"
                                        } else {
                                            area.innerHTML = "";
                                        }

                                        if(!pattern.test(value)) {
                                            area.innerHTML = "<span class=\"bad\">이메일 형식이 맞지 않습니다.</span>";
                                        } else {
                                            area.innerHTML = "";
                                        }
                                    }
                                </script>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th class="tb_th"><label for="mobile">휴대전화번호</label></th>
                        <td>
                            <select name="mobile1">
                                <option value=""> - 선택 - </option>
                                <option value="010"> 010 </option>
                                <option value="011"> 011 </option>
                                <option value="016"> 016 </option>
                                <option value="017"> 017 </option>
                                <option value="018"> 018 </option>
                                <option value="019"> 019 </option>
                            </select>
                            - <input type="text" name="mobile2" id="mobile2" maxlength="4" class="w40"  onblur="checkedMobile()" /> -
                            <input type="text" name="mobile3" id="mobile3" maxlength="4" class="w40" onblur="checkedMobile()"  /> &nbsp;
                            <span id="checkedMobileArea">휴대전화번호를 입력해 주세요</span>
                            <script>
                                function checkedMobile() {
                                    var f = document.forms['form1'];
                                    var area = document.getElementById("checkedMobileArea");
                                    var mobile2 = f["mobile2"].value;
                                    var mobile3 = f["mobile3"].value;

                                    if(mobile2 == "" || mobile3 == "") { //공백이면
                                        area.innerHTML = "휴대전화번호를 입력해주세요";
                                        return;
                                    }
                                    var pattern = /^[0-9]+$/; //숫자만 가능

                                    if(pattern.test(mobile2) && pattern.test(mobile3) ) {
                                        area.innerHTML = "";
                                    } else {
                                        area.innerHTML = "<span class=\"bad\">휴대전화번호 형식이 맞지 않습니다.</span>"
                                    }
                                }
                            </script>
                        </td>
                    </tr>
                    <tr>
                        <th class="tb_th"><label for="email_yn">이메일 수신</label></th>
                        <td>
                            <label><input type="radio" name="email_yn" value="Y" /> 수신동의</label> &nbsp;
                            <label><input type="radio" name="email_yn" value="N" /> 수신거부</label>
                        </td>
                    </tr>
                    <tr>
                        <th class="tb_th"><label for="sms_yn">SMS 수신</label></th>
                        <td>
                            <label><input type="radio" name="sms_yn" value="Y" /> 수신동의</label> &nbsp;
                            <label><input type="radio" name="sms_yn" value="N" /> 수신거부</label>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="board btn">
                <input type="submit" class="button red" value="수정하기" />
            </div>
        </form>
        {{form_script}}
    </div>
</div>